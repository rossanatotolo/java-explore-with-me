# Explore-with-me - микросервисное приложение-афиша мероприятий (дипломный проект).
#### Приложение-Афиша ExploreWithMe (англ. «исследуй со мной»). Оно позволяет пользователям делиться информацией об интересных событиях и находить компанию для участия в них.
![S19_09-2_1674558748.png](S19_09-2_1674558748.png)
#### Используемые инструменты:
### Java, Spring (Boot, Data), JPA Hibernate, PostgreSQL, REST API, Lombok, Docker, Postman, Swagger.

#### Приложение содержит два микросервиса:

- ewm-main-service для бизнес-логики;
- ewm-stats-service для сбора статистики просмотра событий по ip, который состоит из трех модулей (модуль общих DTO, модуль сервиса статистики, модуль клиента сервиса статистики).

У каждого микросервиса есть своя база данных. Микросервисы и базы данных запускаются в собственных Docker контейнерах (4 шт).

## Main Service - основной сервис.
Содержит все необходимое для работы продукта. API сервиса разделен на три части:

- public - общедоступный, доступный без регистрации любому пользователю сети;
- private - закрытый, доступный только авторизованным пользователям;
- admin - административный, для администраторов сервиса.


#### Public API

Публичный API предоставлят возможности поиска и фильтрации событий. 

- сортировка списка событий организована по количеству просмотров, которое будет запрашиваться в сервисе статистики, так и по датам событий;
- при просмотре списка событий возвращается краткая информация о мероприятиях;
- просмотр подробной информации о конкретном событии настроен отдельно (через отдельный эндпоинт);
- каждое событие относится к какой-то из закреплённых в приложении категорий;
- настроена возможность получения всех имеющихся категорий и подборок событий (такие подборки составляют администраторы ресурса);
- каждый публичный запрос для получения списка событий или полной информации о мероприятии фиксируется сервисом статистики.

#### Private API

Закрытая часть API реализует возможности зарегистрированных пользователей продукта, такие как: 

- авторизованные пользователи имеют возможность добавлять в приложение новые мероприятия, редактировать их и просматривать после добавления;
- настроена возможность подачи заявок на участие в интересующих мероприятиях;
- создатель мероприятия имеет возможность подтверждать заявки, которые отправили другие пользователи сервиса.

#### Admin API

Административная часть API предоставлят возможности настройки и поддержки работы сервиса:
- настройка добавления, изменения и удаления категорий для событий;
- возможность добавлять, удалять и закреплять на главной странице подборки мероприятий;
- модерация событий, размещённых пользователями, — публикация или отклонение;
- настройка управления пользователями — добавление, активация, просмотр и удаление.


## Statistics Service - сервис статистики. 

Собирает информацию:

- о количестве обращений пользователей к спискам событий;
- о количестве запросов к подробной информации о событии.
 
На основе этой информации формируется статистика о работе приложения. Функционал сервиса статистики содержит:
- запись информации о том, что был обработан запрос к эндпоинту API;
- предоставление статистики за выбранные даты по выбранному эндпоинту.


## Дополнительные функциональности:
### Comments - комментарии к событиям;
Функциональность комментариев предоставляет пользователям возможность оставлять отзывы, делиться мыслями или задавать вопросы о событиях, создавая интерактивную среду в приложении.
Функциональность включает настройки прав доступа для создания, просмотра, редактирования и модерации комментариев.
Функциональность комментариев доступна через набор эндпоинтов, разделенных на Private, Admin и Public APIs, что позволяет предоставлять разные права доступа на основе ролей пользователей.


#### Private API
- GET /users/{usersId}/events/{eventId}/comments - Получение всех комментариев текущего пользователя к фактическому событию;
- POST /users/{userId}/events/{eventId}/comments - Добавление нового комментария от текущего пользователя под фактическим событием;
- PATCH /users/{userId}/comments/{commentId} - Изменение текста своего комментария;
- DELETE /users/{userId}/comments/{commentId} - Удаление своего комментария текущим пользователем;
- GET /users/{usersId}/events/{eventId}/comments/search - Поиск комментария текцщего пользователя к фактическому событию.


#### Admin API
- DELETE /admin/comments/events/{eventId} - Удаление всех комментариев админом у текущего события.


#### Public API
- GET /events/{eventId}/comments - Получение всех комментариев к определенному событию;
- GET /comments/{commentId} - Получение комментария по его id.

##### PULL REQUEST LINK - https://github.com/rossanatotolo/java-explore-with-me/pull/3
